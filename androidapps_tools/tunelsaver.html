<script src="../scripts/libs/FileSaver/FileSaver.js"></script>
<script src="../scripts/libs/jszip/jszip.js"></script>

<style>
    body{
        background-color: #2e2e2e;
    }
</style>

<script>

    let path = decodeURI(window.location.hash).substr(1);
    
    let demotivators = path;

    var zip = new JSZip();
    var img = zip.folder("Демотиваторы");
    
    for (let i = 0; i < demotivators.length; i++) {
        img.file("Демотиватор_"+i+".png", demotivators[i].replace(/^data:image\/(png|jpg);base64,/, ""), {base64: true});
    }

    zip.generateAsync({type:"blob"})
    .then(function(content) {
        saveAs(content, "Демотиваторы.zip");
        setInterval(() => {
            window.close();
        }, 1000);
    });

</script>
